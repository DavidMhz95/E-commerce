<table mat-table style="width: 100%; cursor: default; padding:0 30px;" [dataSource]="internalDataSource"
    class="mat-elevation-z0">

    <!-- Image Column -->
    <ng-container matColumnDef="image">
        <th mat-header-cell *matHeaderCellDef>Producto</th>
        <td mat-cell *matCellDef="let element">
            <a [routerLink]="'/landing/products/'+element?.product?.id">
                <img style="width: 100px; padding: 20px 0;" [src]="productService?.getProductImages(element?.product?.images[0])">
            </a>
        </td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Nombre </th>
        <td mat-cell *matCellDef="let element">
            <div style="margin-bottom: 5px;">
                <a [routerLink]="'/landing/products/'+element?.product?.reference">
                    {{element?.product?.name}}
                </a>
            </div>
            <div *ngIf="editable">
                <a style="font-size: 10px; opacity:0.7;" (click)="deleteProduct(element?.product, true)">
                    Eliminar
                </a>
            </div>
        </td>
    </ng-container>

    <!-- Prize Column -->
    <ng-container matColumnDef="prize">
        <th mat-header-cell *matHeaderCellDef> Precio </th>
        <td mat-cell *matCellDef="let element">
            <div *ngIf="element?.product?.offerPrice" style="opacity: 0.6; text-decoration: line-through; font-size: 12px;margin-bottom: 5px;">€{{element?.product?.price}} </div>
            <div *ngIf="!element?.product?.offerPrice" style="font-size: 12px;margin-bottom: 5px;">€{{element?.product?.price}} </div>
            <div *ngIf="element?.product?.offerPrice" style="font-size: 12px;">€{{element?.product?.offerPrice}} </div>
        </td>
    </ng-container>


    <!-- Number Column -->
    <ng-container matColumnDef="number">
        <th mat-header-cell style="text-align: right;" *matHeaderCellDef> Unidades </th>
        <td mat-cell style="text-align: right;" *matCellDef="let element">
            <app-quantity-selector *ngIf="editable" [value]='element?.number' maxValue=30 minValue=0
                (valueChanged)="valueChanged($event, element)">
            </app-quantity-selector>
            <div *ngIf="!editable" style="font-size: 12px;">{{element?.number}} </div>
        </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>