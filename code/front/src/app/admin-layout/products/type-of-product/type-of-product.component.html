<mat-card class="card" style="margin-top: 20px">
    <span>Nuevo tipo de producto</span>
    <div class="preInput">
        Nombre:
    </div>
    <div style="position: relative">
        <input *ngIf="typeOfProduct" [(ngModel)]="typeOfProduct.name" matInput
            placeholder="Ex. Zapatillas, Camisetas, Tarros de miel..." style="padding-right: 30px;">
    </div>
    <div class="preInput" style="margin-top: 10px">
        Nueva Propiedad
    </div>
    <div style="position: relative">
        <input [(ngModel)]="newProperty" matInput placeholder="Ex.Talla, Tamaño, Color" style="padding-right: 30px;">
    </div>
    <div style="margin-top: 20px">
        <button style="float:right" mat-flat-button color="secundary" (click)="addProperty()">Añadir
            Propiedad</button>
        <div style="clear:both"></div>
    </div>

    <div *ngFor="let property of typeOfProduct?.properties?.items| keyvalue; let i=index" style="padding: 10px 5px;">
        <div style="font-size: 13px; margin-bottom: 0px; width: 100%; " class="preInput">{{property?.key}}</div>
        <div class="flex-container">
            <div class="flex-container" style="line-height: 1.3; margin-right: 10px; flex-grow: 1;">
                <div style="width: 100%;">
                    <!-- Controlar el input para no poder meter espacios (varias palabras) -->
                    <input [(ngModel)]="newPropertyValue[i]" matInput placeholder="Ex. S,M,L,XL"
                        style="padding-right: 30px;">
                </div>
            </div>
            <mat-icon style="cursor:pointer" matTooltip="Añade un valor" (click)="addPropertyValue(property, i)">
                add
            </mat-icon>
            <mat-icon style="cursor:pointer" matTooltip="Elimina la propiedad"
                (click)="removeFromProperties(property)">clear</mat-icon>
        </div>
        <div class="subInput">
            <!-- Chips Angular -->
            <mat-chip-list aria-label="Color selection">
                <mat-chip selected style="font-size: 12px" *ngFor="let value of property?.value">
                    {{value}}
                    <mat-icon
                        style="font-size: 15px; text-align: center; vertical-align: middle; margin-top: 8px; padding-left: 12px; "
                        (click)="remove(property.key,value)">cancel</mat-icon>
                </mat-chip>
            </mat-chip-list>
        </div>
    </div>

    <div *ngIf="!isEdition" style="margin-top: 20px">
        <button style="float:right" mat-flat-button color="primary" (click)="addProductType()">Crear Tipo de
            Producto</button>
        <div style="clear:both"></div>
    </div>
</mat-card>