<mat-drawer-container class="container" autosize>
    <mat-drawer #drawer class="rightPanel" position="end" mode="side">
        <div class="title" style="margin-bottom:10px;">
            Crear código de descuento
        </div>
        <mat-card class="card">
            <span>Código de descuento</span>
            <div style="margin-top: 10px">
                <input matInput style="text-transform: uppercase;" placeholder="DISCOUNT20" [(ngModel)]="discount.code">
            </div>
            <div class="subInput">
                Este es el código de descuento que deberá introducir el usuario antes de realizar la compra
            </div>
        </mat-card>

        <mat-card class="card" style="margin-top: 20px">
            <span>Opciones</span>
            <div class="preInput">
                Tipo de descuento:
            </div>
            <div>
                <mat-select [(ngModel)]="discount.type">
                    <mat-option *ngFor="let type of discountType | keyvalue" [value]="type?.value">
                        {{type.value}}
                    </mat-option>
                </mat-select>
            </div>
            <div class="preInput" style="margin-top: 10px">
                Valor:
            </div>
            <div style="position: relative">
                <input matInput placeholder="Valor del descuento" style="padding-right: 30px;"
                    [(ngModel)]="discount.value">
                <mat-icon style="position: absolute; top: 13px;right: 5px; font-size: 18px;
                opacity: 0.7;" matSuffix>{{discount?.type==discountType.Percentage?'data_usage':'euro_symbol'}}
                </mat-icon>
            </div>

        </mat-card>
    </mat-drawer>

    <div class="sidenav-content">
        <div style="margin-left:8px; padding: 40px 20px; width: 100%">
            <div class="padding7 col-xl-8 col-lg-8 col-md-12 col-sm-12 col-xs-12"
                [ngClass]="{'col-xl-12 col-lg-12': drawer?.opened}">
                <mat-card class="card dashed" (click)="drawer?.toggle()" style="padding: 10px 24px;">
                    <div class="flex-container">
                        <mat-icon style="margin-right: 10px;">add_circle</mat-icon>
                        <div style="flex-grow:1">
                            Añadir Descuento
                        </div>
                    </div>
                </mat-card>
            </div>
            <div style="opacity:0.8; margin-left: 8px; margin-bottom: 10px;" class="title">
                Descuentos Activos
            </div>
            <div class="padding7 col-xl-8 col-lg-8 col-md-12 col-sm-12 col-xs-12"
                [ngClass]="{'col-xl-12 col-lg-12': drawer?.opened}">
                <mat-accordion>
                    <mat-expansion-panel *ngFor="let discount of dataService?.discounts" class="mat-elevation-z">
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <mat-icon style="margin-right: 10px;">
                                    {{discount?.type==discountType.Percentage?'data_usage':'euro_symbol'}}</mat-icon>
                                <span style="margin-right: 5px;">{{discount?.code}}</span>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <p>I'm visible because I am open</p>
                    </mat-expansion-panel>

                </mat-accordion>
            </div>
            <div style="opacity:0.8; margin-left: 8px; margin-top: 20px; margin-bottom: 10px;" class="title">
                Descuentos Expirados
            </div>

        </div>
    </div>
</mat-drawer-container>